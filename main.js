(function(){function y(){var e=window._CCSettings;if(window._CCSettings=void 0,!e.debug){var o=e.uuids,w=e.rawAssets,O=e.assetTypes,S=e.rawAssets={};for(var m in w){var b=w[m],C=S[m]={};for(var a in b){var d=b[a],E=d[1];typeof E=="number"&&(d[1]=O[E]),C[o[a]||a]=d}}for(var g=e.scenes,u=0;u<g.length;++u){var l=g[u];typeof l.uuid=="number"&&(l.uuid=o[l.uuid])}var p=e.packedAssets;for(var I in p)for(var i=p[I],t=0;t<i.length;++t)typeof i[t]=="number"&&(i[t]=o[i[t]])}var A;if(cc.sys.isBrowser&&(A=document.getElementById("GameCanvas")),0)var D;function T(){var c=document.getElementById("splash"),n=c.querySelector(".progress-bar span");cc.loader.onProgress=function(N,h,P){var M=100*N/h;n&&(n.style.width=M.toFixed(2)+"%")},c.style.display="block",n.style.width="0%",cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH,function(){})}var B=function(){cc.view.resizeWithBrowserSize(!0),(cc.sys.os!==cc.sys.OS_ANDROID||cc.sys.browserType!==cc.sys.BROWSER_TYPE_UC)&&cc.view.enableRetina(!0),cc.sys.isBrowser&&T(),cc.sys.isMobile&&(e.orientation==="landscape"?cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE):e.orientation==="portrait"&&cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT),/qukan/i.test(navigator.userAgent)?cc.view.enableAutoFullScreen(!1):cc.view.enableAutoFullScreen([cc.sys.BROWSER_TYPE_BAIDU,cc.sys.BROWSER_TYPE_WECHAT,cc.sys.BROWSER_TYPE_MOBILE_QQ,cc.sys.BROWSER_TYPE_MIUI].indexOf(cc.sys.browserType)<0)),cc.sys.isBrowser&&cc.sys.os===cc.sys.OS_ANDROID&&(cc.macro.DOWNLOAD_MAX_CONCURRENT=2),cc.AssetLibrary.init({libraryPath:"res/import",rawAssetsBase:"res/raw-",rawAssets:e.rawAssets,packedAssets:e.packedAssets,md5AssetsMap:e.md5AssetsMap});var c=e.launchScene;cc.director.loadScene(c,null,function(){if(cc.sys.isBrowser){A.style.visibility="";var n=document.getElementById("GameDiv");n&&(n.style.backgroundImage="")}cc.loader.onProgress=null,console.log("Success to load scene: "+c)})},s=e.jsList,R=e.debug?"src/project.dev.js":"src/project.js";s?(s=s.map(function(c){return"src/"+c}),s.push(R)):s=[R],cc.sys.isNative&&cc.sys.isMobile&&(s=s.concat(["src/anysdk/jsb_anysdk.js","src/anysdk/jsb_anysdk_constants.js"]));var j={id:"GameCanvas",scenes:e.scenes,debugMode:e.debug?cc.DebugMode.INFO:cc.DebugMode.ERROR,showFPS:e.debug,frameRate:60,jsList:s,groupList:e.groupList,collisionMatrix:e.collisionMatrix,renderMode:0};cc.game.run(j,B)}if(0)var _;if(0)var _;if(window.jsb){require("src/settings.js"),require("src/jsb_polyfill.js"),y();return}if(window.document){var f=document.getElementById("splash");f.style.display="block";var r=document.createElement("script");r.async=!0,r.src=window._CCSettings.debug?"cocos2d-js.js":"cocos2d-js-min.js";var v=function(){document.body.removeChild(r),r.removeEventListener("load",v,!1),window.eruda&&eruda.init()&&eruda.get("console").config.set("displayUnenumerable",!1),y()};r.addEventListener("load",v,!1),document.body.appendChild(r)}})();
