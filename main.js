(function(){function u(){var e=window._CCSettings;if(window._CCSettings=void 0,!e.debug){var o=e.uuids,v=e.rawAssets,O=e.assetTypes,S=e.rawAssets={};for(var y in v){var w=v[y],T=S[y]={};for(var n in w){var l=w[n],b=l[1];typeof b=="number"&&(l[1]=O[b]),T[o[n]||n]=l}}for(var g=e.scenes,d=0;d<g.length;++d){var f=g[d];typeof f.uuid=="number"&&(f.uuid=o[f.uuid])}var m=e.packedAssets;for(var B in m)for(var t=m[B],c=0;c<t.length;++c)typeof t[c]=="number"&&(t[c]=o[t[c]])}var E;if(cc.sys.isBrowser&&(E=document.getElementById("GameCanvas")),0)var M;function P(){var r=document.getElementById("splash"),i=r.querySelector(".progress-bar span");cc.loader.onProgress=function(N,j,h){var I=100*N/j;i&&(i.style.width=I.toFixed(2)+"%")},r.style.display="block",i.style.width="0%",cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH,function(){})}var D=function(){cc.view.resizeWithBrowserSize(!0),(cc.sys.os!==cc.sys.OS_ANDROID||cc.sys.browserType!==cc.sys.BROWSER_TYPE_UC)&&cc.view.enableRetina(!0),cc.sys.isBrowser&&P(),cc.sys.isMobile&&(e.orientation==="landscape"?cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE):e.orientation==="portrait"&&cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT),/qukan/i.test(navigator.userAgent)?cc.view.enableAutoFullScreen(!1):cc.view.enableAutoFullScreen([cc.sys.BROWSER_TYPE_BAIDU,cc.sys.BROWSER_TYPE_WECHAT,cc.sys.BROWSER_TYPE_MOBILE_QQ,cc.sys.BROWSER_TYPE_MIUI].indexOf(cc.sys.browserType)<0)),cc.sys.isBrowser&&cc.sys.os===cc.sys.OS_ANDROID&&(cc.macro.DOWNLOAD_MAX_CONCURRENT=2),cc.AssetLibrary.init({libraryPath:"res/import",rawAssetsBase:"res/raw-",rawAssets:e.rawAssets,packedAssets:e.packedAssets,md5AssetsMap:e.md5AssetsMap});var r=e.launchScene;cc.director.loadScene(r,null,function(){if(cc.sys.isBrowser){E.style.visibility="";var i=document.getElementById("GameDiv");i&&(i.style.backgroundImage="")}cc.loader.onProgress=null,console.log("Success to load scene: "+r)})},s=e.jsList,A=e.debug?"src/project.dev.js":"src/project.js";s?(s=s.map(function(r){return"src/"+r}),s.push(A)):s=[A],cc.sys.isNative&&cc.sys.isMobile&&(s=s.concat(["src/anysdk/jsb_anysdk.js","src/anysdk/jsb_anysdk_constants.js"]));var C={id:"GameCanvas",scenes:e.scenes,debugMode:e.debug?cc.DebugMode.INFO:cc.DebugMode.ERROR,showFPS:e.debug,frameRate:60,jsList:s,groupList:e.groupList,collisionMatrix:e.collisionMatrix,renderMode:0};cc.game.run(C,D)}if(0)var R;if(0)var R;if(window.jsb){require("src/settings.js"),require("src/jsb_polyfill.js"),u();return}if(window.document){var _=document.getElementById("splash");_.style.display="block";var a=document.createElement("script");a.async=!0,a.src=window._CCSettings.debug?"cocos2d-js.js":"cocos2d-js-min.js";var p=function(){document.body.removeChild(a),a.removeEventListener("load",p,!1),window.eruda&&eruda.init()&&eruda.get("console").config.set("displayUnenumerable",!1),u()};a.addEventListener("load",p,!1),document.body.appendChild(a)}})();
